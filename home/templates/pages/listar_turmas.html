<!DOCTYPE html>
<html lang="pt-br">
 <head>
  {% include 'partials/_head.html' %}
  <style>
   .titulo-pagina { background:#fab982;color:#000;font-weight:bold;font-size:1.5rem;
      padding:1rem 1.5rem;border-radius:5px;box-shadow:0 2px 6px rgba(0,0,0,.1);margin-bottom:1.5rem;text-align:left; }
    .table thead.thead-dark th { background:#fab982;color:#000;border-color:#fab982;cursor:pointer; }
    .table-hover tbody tr:hover { background:#fff4eb; }
    .list-controls{display:flex;gap:.75rem;align-items:center;margin-bottom:.75rem;flex-wrap:wrap}
    .list-controls .form-control,.list-controls .custom-select{max-width:260px}
    .chips{display:flex;gap:.5rem;flex-wrap:wrap;margin-bottom:.5rem}
    .chip{background:#ffe4ca;border:1px solid #fab982;color:#000;border-radius:16px;padding:.15rem .6rem;font-size:.85rem}
    .chip button{background:transparent;border:none;margin-left:.35rem;cursor:pointer}
    .pagination-bar{display:flex;justify-content:space-between;align-items:center;margin-top:.5rem;flex-wrap:wrap;gap:.5rem}
    .results-info{font-size:.9rem;color:#555}
    .btn-info{background:#fab982!important;border-color:#fab982!important;color:#000!important}
    .btn-info:hover{background:#f9a85c!important;border-color:#f9a85c!important}
    .sort-indicator{font-size:.8rem;margin-left:.25rem}
  </style>
 </head>
 <body>
  {% include 'partials/_nav.html' %}
  <section class="py-5">
   <div class="container">
    <div class="titulo-pagina">
     Listar Turmas
    </div>
    <div class="list-controls">
     <input class="form-control" id="q" placeholder="ðŸ” Buscar por nome, sala, ano, turno..." type="text"/>
     <select class="custom-select" id="fTurno">
      <option value="">
       Turno: todos
      </option>
     </select>
     <select class="custom-select" id="fAno">
      <option value="">
       Ano letivo: todos
      </option>
     </select>
     <select class="custom-select" id="pageSize">
      <option value="10">
       Exibir: 10
      </option>
      <option selected="" value="25">
       Exibir: 25
      </option>
      <option value="50">
       Exibir: 50
      </option>
      <option value="100">
       Exibir: 100
      </option>
     </select>
     <button class="btn btn-secondary btn-sm" id="clearFilters" type="button">
      Limpar filtros
     </button>
     <a class="btn btn-info btn-sm" href="{% url 'cadastro_turma' %}">
      + Criar turma
     </a>
     <!-- Exportar / Imprimir -->
     <button class="btn btn-secondary btn-sm" id="btnExportTurmas" type="button">
      Exportar CSV
     </button>
     <button class="btn btn-secondary btn-sm" id="btnPrintTurmas" type="button">
      Imprimir lista
     </button>
    </div>
    <div class="chips" id="chips">
    </div>
    <table class="table table-bordered table-hover table-striped" id="tabelaTurmas">
     <thead class="thead-dark">
      <tr>
       <th data-sort="nome">
        Nome
        <span class="sort-indicator">
        </span>
       </th>
       <th data-sort="sala">
        Sala
        <span class="sort-indicator">
        </span>
       </th>
       <th data-sort="ano">
        Ano
        <span class="sort-indicator">
        </span>
       </th>
       <th data-sort="turno">
        Turno
        <span class="sort-indicator">
        </span>
       </th>
       <th>
        AÃ§Ãµes
       </th>
      </tr>
     </thead>
     <tbody id="tbody">
      <script id="turmas-data" type="application/json">
       {{ turmas_json|safe }}
      </script>
     </tbody>
    </table>
    <div class="pagination-bar">
     <div class="results-info" id="resultsInfo">
      Mostrando 0â€“0 de 0
     </div>
     <nav>
      <ul class="pagination">
       <li class="page-item">
        <button class="page-link" id="firstPage">
         Â«
        </button>
       </li>
       <li class="page-item">
        <button class="page-link" id="prevPage">
         â€¹
        </button>
       </li>
       <li class="page-item disabled">
        <span class="page-link" id="pageIndicator">
         1 / 1
        </span>
       </li>
       <li class="page-item">
        <button class="page-link" id="nextPage">
         â€º
        </button>
       </li>
       <li class="page-item">
        <button class="page-link" id="lastPage">
         Â»
        </button>
       </li>
      </ul>
     </nav>
    </div>
   </div>
  </section>
  {% include 'partials/_footer.html' %}
  <!-- Modal Editar -->
  <div aria-hidden="true" class="modal fade" id="editarTurmaModal" role="dialog" tabindex="-1">
   <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
    <div class="modal-content">
     <form id="formEditarTurma">
      <div class="modal-header" style="background:#fab982;border-bottom:none;">
       <h5 class="modal-title" style="color:#000;">
        Editar Turma
       </h5>
       <button aria-label="Fechar" class="close" data-dismiss="modal" type="button">
        <span>
         Ã—
        </span>
       </button>
      </div>
      <div class="modal-body">
       <input id="turmaId" type="hidden"/>
       <div class="form-row">
        <div class="form-group col-md-5">
         <label>
          Nome
         </label>
         <input class="form-control" id="eNome" required="" type="text"/>
        </div>
        <div class="form-group col-md-3">
         <label>
          Sala
         </label>
         <input class="form-control" id="eSala" type="text"/>
        </div>
        <div class="form-group col-md-2">
         <label>
          Ano
         </label>
         <input class="form-control" id="eAno" inputmode="numeric" min="0" type="number"/>
        </div>
        <div class="form-group col-md-2">
         <label>
          Turno
         </label>
         <input class="form-control" id="eTurno" placeholder="ManhÃ£/Tarde/Noite" type="text"/>
        </div>
       </div>
       <div class="form-group">
        <label>
         DescriÃ§Ã£o
        </label>
        <textarea class="form-control" id="eDescricao" rows="3"></textarea>
       </div>
      </div>
      <div class="modal-footer">
       <button class="btn btn-primary" id="btnSalvarEditar" type="submit">
        Salvar
       </button>
       <button class="btn btn-secondary" data-dismiss="modal" type="button">
        Cancelar
       </button>
      </div>
     </form>
    </div>
   </div>
  </div>
  <script>
  </script>
 </body>
</html>
